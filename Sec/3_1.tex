\documentclass[../journal2.tex]{subfiles}
\graphicspath{{Figs/3_1/}{../Figs/3_1/}}

\begin{document}

\subsection{Introduktion}
Formålet med denne del af øvelsen vil være endnu en gang at konstruere en 4bit-adder i VHDL. istedet for logiske operatorer og kombinationer af half-adders, vil vi dog denne gang gøre brug af aritmetik funktioner i Quartus II til at bygge vores 4bit-adder. Desuden vil vi foretage test af forskellen af \textit{signed} og \textit{unsigned}, og hvilken effekt de kan have på vores 4bit-adder.

\subsection{Design og implementering}
Vi implementerer vores 4bit-adder vha. addition aritmetik operatoren i Quartus II, indkluderet i numeric\textunderscore std biblioteket.Operatoren har den ulempe at den ikke kan foretage udregninger på std\textunderscore logic\textunderscore vector's. Som det kan ses på Fig. \ref{Fig1}, skal vores input og output udforme sig i denne slags vektorer, altså må vi tage forhold for denne svaghed.

\pic{Unsigned1.png}{1}{opbygning af 4bit-adder}{Fig1}

Vi benytter \textit{unsigned()} funktionen til at konvertere vores std\textunderscore logic vektorer til unsigned vektorer, for at kunne benytte ''+'' operatoren på dem. Et nyt problem opstår dog i at vi gerne vil placere resultatet af vores operation i vores \textit{sum} vektor, som også er angivet som std\textunderscore logic\textunderscore vector på Fig. \ref{Fig1}. Derfor benytter vi \textit{std\textunderscore logic\textunderscore vector()} funktionen til at konvertere vores resultat tilbage til std\textunderscore logic\textunderscore vector, så det kan indsættes i \textit{sum} vektoren. Koden kan ses nedenfor:

%Indsæt kode for four_bit_adder_simple her

For at teste vores 4bit-adder foretog vi en functional simulation af vores kode. Koden for testfilen kan ses nedenfor, sammen med resultaterne af smuleringen på Fig. :

%Indsæt kode for testfil for four_bit_adder_simple her
%Indsæt resultater af simulering for four_bit_adder_simple her

Vi foretog derefter en realisering på et DE2-Board. Resultatet af realiseringen kan ses på Fig. nedenfor:

%Indsæt realisering på DE2-Board for four_bit_adder_simple her

Vi skulle nu teste hvordan vores 4bit-adder ville reagere, hvis vi ændrede typen af vektorerne i vores addition fra unsigned til signed. Vi skulle desuden teste hvorvidt om man kan have adskillige articheture's knyttet til den samme design entity. Derfor indeholder koden for vores signed 4bit-adder også koden for vores unsigned 4bit-adder i en delt architecture. Koden kan ses nedenfor:

%Indsæt kode for four_bit_adder_simple med begge architecture her

Denne strukturer blev også realiseret på DE2-Board, som ses på Fig.

%Indsæt realisering af De2-Baord for four_bit_adder_simple med begge architecture her



\subsection{Resultater}
For at teste vores 4bit-adder foretog vi en functional simulation af vores kode. 



\end{document}